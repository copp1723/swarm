# SWARM Multi-Agent System Environment Configuration
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit your actual .env file to version control!

# =====================================================================
# CORE APPLICATION SETTINGS
# =====================================================================

# Flask Configuration
FLASK_ENV=development                      # Use 'development' or 'production'
FLASK_DEBUG=False                          # Set to True only in development
SECRET_KEY=generate-a-secure-random-key    # Generate with: python -c "import secrets; print(secrets.token_hex(32))"

# Server Configuration
GUNICORN_WORKERS=4                         # Number of Gunicorn worker processes
GUNICORN_THREADS=2                         # Threads per worker
MAX_CONTENT_LENGTH=16777216                # Max request size (16MB)

# =====================================================================
# DATABASE CONFIGURATION
# =====================================================================

# Main Database
# For SQLite (development): sqlite:///instance/mcp_executive.db
# For PostgreSQL (production): postgresql://user:password@host:port/dbname
DATABASE_URL=postgresql://swarm_user:your-secure-password@postgres:5432/swarm_db

# Secondary Database (if needed)
CONVOY_DATABASE_URL=postgresql://convoy_user:your-secure-password@postgres:5432/convoy_db

# =====================================================================
# REDIS & TASK QUEUE CONFIGURATION
# =====================================================================

# Redis Connection
REDIS_URL=redis://redis:6379/0             # Redis main connection
CELERY_BROKER_URL=redis://redis:6379/1     # Celery broker
CELERY_RESULT_BACKEND=redis://redis:6379/2 # Celery results

# =====================================================================
# API KEYS & EXTERNAL SERVICES
# =====================================================================

# AI Model APIs
OPENROUTER_API_KEY=your-openrouter-api-key-here      # Required: https://openrouter.ai/keys
OPENAI_API_KEY=your-openai-api-key-here              # Optional
ANTHROPIC_API_KEY=your-anthropic-api-key-here        # Optional

# Email Service (Mailgun)
MAILGUN_API_KEY=your-mailgun-api-key-here
MAILGUN_DOMAIN=your-mailgun-domain-here
MAILGUN_WEBHOOK_SIGNING_KEY=your-mailgun-webhook-signing-key-here
DEFAULT_FROM_EMAIL=noreply@your-domain.com

# SuperMemory Integration
SUPERMEMORY_BASE_URL=https://api.supermemory.ai/v3
SUPERMEMORY_API_KEY=your-supermemory-api-key-here

# GitHub Integration
GITHUB_PAT=your-github-personal-access-token-here    # For repository access

# Convoy Service
CONVOY_API_URL=http://convoy:5005
CONVOY_API_KEY=your-convoy-api-key-here

# Monitoring
SENTRY_DSN=your-sentry-dsn-for-error-tracking        # Optional but recommended for production

# =====================================================================
# SECURITY SETTINGS
# =====================================================================

# Authentication & Authorization
JWT_SECRET_KEY=generate-a-secure-jwt-key             # Generate separately from SECRET_KEY
API_KEY=your-api-key-for-authentication              # For API access

# SWARM API Configuration
SWARM_DEV_API_KEY=your-development-api-key           # For development only
ALLOW_DEV_API_KEY=false                              # Set to false in production

# =====================================================================
# FEATURE FLAGS & CONFIGURATION
# =====================================================================

# Feature Toggles
ENABLE_WEBSOCKETS=true
ENABLE_CONVOY=true
ENABLE_CELERY=true
ENABLE_RATE_LIMITING=true
ENABLE_AUTO_DISPATCH=true
ENABLE_REALTIME_UPDATES=true
ENABLE_AUDIT_LOGGING=true

# MCP Configuration
DISABLE_MCP_FILESYSTEM=false
MCP_FILESYSTEM_ROOT=/app                             # Root directory for MCP filesystem access
MCP_FILESYSTEM_ALLOWED_DIRS=/app                     # Comma-separated list of allowed directories
MCP_FILESYSTEM_ALLOW_WRITE=true
MCP_FILESYSTEM_ALLOW_DELETE=false
GRACEFUL_DEGRADATION=false

# Performance Settings
RATE_LIMIT_WEBHOOKS_PER_MINUTE=100
RATE_LIMIT_TASKS_PER_MINUTE=50
WEBHOOK_PROCESSING_TIMEOUT=30
TASK_DISPATCH_TIMEOUT=60

# =====================================================================
# LOGGING & OBSERVABILITY
# =====================================================================

# Logging Configuration
LOG_LEVEL=INFO                             # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/mcp_executive.log

# =====================================================================
# DOMAIN & DEPLOYMENT SETTINGS
# =====================================================================

# Domains
ALLOWED_ORIGINS=https://example.com,https://www.example.com
SERVER_NAME=example.com
SWARM_BASE_URL=https://example.com
